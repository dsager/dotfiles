- defaults:
    link:
      create: true

- clean: ["~"]

- shell:
    - "mkdir -p ~/.local/bin ~/.local/share ~/.local/fonts ~/.local/tools"
    - "mkdir -p ~/.vim/autoload ~/.vim/bundle ~/.vim/backups ~/.vim/swaps"
    - "rmdir ~/Documents"
    - "rmdir ~/Pictures"
    - "rmdir ~/Music"
    - "rmdir ~/Templates"
    - "sudo cp config/etc/sysctl.d/999-inotify-watches.conf /etc/sysctl.d/999-inotify-watches.conf"

- link:
    # directories
    "~/Documents": "/run/media/dani/data/googledrive/daniel@sager1.de/Documents"
    "~/Pictures": "/run/media/dani/data/googledrive/daniel@sager1.de/Pictures"
    # dotfiles
    "~/.gitignore_global": "gitignore_global"
    "~/.gitconfig": "gitconfig"
    "~/.wgetrc": "wgetrc"
    "~/.curlrc": "curlrc"
    "~/.psqlrc": "psqlrc"
    "~/.vimrc": "vimrc"
    "~/.irbrc": "irbrc"
    "~/.pryrc": "irbrc"
    "~/.gvimrc": "gvimrc"
    # tools / scripts
    "~/.local/bin/git_delete_stale_branches": "scripts/commands/git_delete_stale_branches.sh"
    "~/.local/bin/update": "scripts/commands/update_system.sh"
    "~/.local/bin/friday_links": "scripts/commands/friday_links.sh"
    "~/.local/bin/ghpr": "scripts/commands/devex_pull_request.sh"
    # other config
    "~/src/.projects.gws": "src/projects.gws"
    "~/.config/fish/config.fish": "config/fish/config.fish"
    '~/.config/fish/fishfile': 'config/fish/fishfile'
    "~/.config/kitty":
      path: "config/kitty"
      force: true
    "~/.idid.log": "~/Dropbox/notes/idid.log"

- shell:
  -
    command: sudo pacman -R --unneeded --noconfirm --recursive --nosave `cat packages/manjaro.remove.txt | grep -v '#' | grep .`
    description: Removing unwanted packages that came with manjaro
    stdout: true
    stdin: true
    quiet: false
  -
    command: pamac install `cat packages/manjaro.txt | grep -v '#' | grep .`
    description: Installing packages from the manjaro repositories
    stdout: true
    stdin: true
    quiet: false
  -
    command: pamac build `cat packages/aur.txt | grep -v '#' | grep .`
    description: Installing packages from the Arc User Repository (AUR)
    stdout: true
    stdin: true
    quiet: false
